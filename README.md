# 基於 OM2M 系統之貼片式體徵監測工具

此儲存庫包含基於 OM2M IoT 平台的貼片式體徵監測工具實作，用於即時監測 COVID-19 患者的血氧濃度、心率和體溫。

## 目錄

- [具體實現方式](#具體實現方式)
  - [硬體](#硬體)
  - [軟體](#軟體)
  - [軟硬體架構圖](#軟硬體架構圖)
- [實作成果與介紹](#實作成果與介紹)
- [市面上現有產品的分析與比較](#市面上現有產品的分析與比較)

## 具體實現方式

### 硬體

- **ATmega32U4** - 主要運算 MCU，使用 Atmel 的 C 語言編程
- **MAX30100** - 人體血氧、心率、溫度的感測器，使用 I2C 通訊
- **ESP8266** - 連接 OM2M 系統的通訊單元（Wi-Fi 收發器）
- **Li-Po 電池** - 系統主要電力提供單位，容量 300mAh
- **TI TPS81256** - 超小型 5V DC/DC 電源供應器，面積 < 9mm²
- **TI BQ25100** - Qi 無線充電之電池充電與保護 IC
- **Raspberry Pi 4** - OM2M 主要執行平台與 Web Server

### 軟體

- **Ubuntu 18.04** - 主要 OS 與程式執行平台
- **OneM2M** - IoT 裝置主要資料系統，基於 Ubuntu
- **Node-RED** - 人機互動平台、通知中心的框架與動態程式
- **Chrome** - 展示成果與顯示之平台

### 軟硬體架構圖

![軟硬體架構圖](images/software_hardware_architecture.png)

## 實作成果與介紹

### 硬體架構圖與實作成果

![硬體架構圖](images/hardware_architecture.png)

### Node-RED Function 實作

![Node-RED Function](images/node_red_function.png)

### OM2M 平台 - 傳送與接收實作

![OM2M 傳送與接收](images/om2m_transmission_reception.png)

### 即時監測 GUI & 數值異常時 Email 傳送

![即時監測 GUI](images/real_time_gui.png)

### 實際操作流程 & 影片

系統主要功能：

- 動態上傳受試者心率＆血氧至 OM2M 平台
- 使用 Node-RED GUI 顯示即時數值
- 當受試者移除儀器或心率血氧異常 → 自動發 email 緊急通知

**影片連結：** [https://youtu.be/tCbYW4THGzk](https://youtu.be/tCbYW4THGzk)

### 該 IoT 系統的智慧之處

我們的裝置可以大量動態監測病患的心率與血氧濃度，這能讓醫療資源管理更流暢，如遇病患逃跑、OHCA 等系統也會緊急通知。

而且這些資料都收錄在 OM2M 系統中，可動態讓醫生瀏覽病人的病程歷史資料，也可以作為治療方法的研究材料。

## 市面上現有產品的分析與比較

### 與醫院規格化的心率血氧機比較

醫院採用的制式心率血氧機，絕對比我們的設計的監測器還要精準，但是受限於該機器單價昂貴，醫院採購數量一定有限。若今天該區發生大規模疫情爆發，在醫院負荷不良、機器數量不足的情況下，有些患者必然沒有監測儀器可用。

這時候我們的設計優點就凸顯了，我們的造價更便宜，能顧及到每個患者，雖然精準度較制式儀器差了些，但足以滿足快速且大量監測患者生命數據的要求，比起透過不足人力輪巡的方式高效率多了。

### Nature Medicine 文章 - 利用穿戴式裝置檢測與紀錄 COVID-19 症狀

文章提到，能透過個人穿戴式裝置的感測器資料，如：呼吸頻率、溫度、血氧飽和度、連續血壓、心輸出量和全身血管阻力，來檢測早期感染者，或辨識出無症狀感染者。通常這些指數異常的人，大多數肺已損傷，且血液中具高發炎指數。

根據文章這樣的分析，我們覺得除了用在醫院裡面，也能用在居家檢疫的人，透過以上數據，來辨別輕症感染者，或是可怕的無症狀感染者。

**參考文獻：**
1. [Nature Medicine - Wearable sensors for COVID-19](https://www.nature.com/articles/s41591-020-1123-x)

## 授權

本專案採用 [MIT License](LICENSE)

## 貢獻

歡迎提交 Issue 或 Pull Request 來改進本專案。

## 聯絡方式

如有任何問題或建議，請透過 Issue 與我們聯繫。
